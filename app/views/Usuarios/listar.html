#{extends 'main.html' /}
#{set title:'listar' /}

<div class="search-label-container">
  <label for="termo">Buscar por nome ou email:</label>
</div>

<div class="search-container">
  <form action="@{Usuarios.listar}" class="search-form-inside">
    <input 
      id="termo"
      type="text" 
      name="termo" 
      value="${termo}" 
      placeholder="Digite nome ou email" 
      class="search-input" />
    <button type="submit" class="search-button">Enviar</button>
  </form>
</div>

<div class="user-cards-container">
  #{list items: usuarios, as:'u'}
    <div class="user-card">
      <p><strong>Nome:</strong> ${u.nome}</p>
      <p><strong>Email:</strong> ${u.email}</p>
      <p><strong>Telefone:</strong> ${u.telefone}</p>
      <div class="button-group">
        <a href="@{Usuarios.editar(u.id)}" class="action-button">Editar</a>
        <a href="@{Usuarios.remover(u.id)}" class="action-button">Remover</a>
      </div>
    </div>
  #{/list}
  #{else}
    <p class="no-users">Nenhuma Pessoa Cadastrada</p>
  #{/else}
</div>

<div style="text-align: center; margin-top: 2rem;">
  <a href="@{Usuarios.form}" class="action-button">Cadastrar Novo</a>
</div>
