#{extends 'main.html' /}
#{set title:'Home' /}

<div class="container">

    #{if flash.error}
        <div class="alert alert-danger">
            ${flash.error}
        </div>
    #{/if}

    #{if flash.success}
        <div class="alert alert-success">
            ${flash.success}
        </div>
    #{/if}

    <form action="@{Logins.logar()}" method="post">
        <h1>Login</h1>
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" name="email" id="email" class="form-control" required />
        </div>

        <div class="form-group">
            <label for="senha">Senha:</label>
            <input type="password" name="senha" id="senha" class="form-control" required />
        </div>

        <button type="submit" class="btn btn-primary">Entrar</button>
    </form>

    <div style="text-align: center; margin-top: 2rem;">
        <a href="@{Usuarios.form()}" class="btn btn-secondary">Cadastrar Novo Usuário</a>
    </div>

    #{if session.contains('usuarioLogado')}
        <p style="color: white; text-align: center; margin-top: 1rem;">Você está logado como: ${session.get('usuarioLogado')}</p>
        <div style="text-align: center; margin-top: 1rem;">
            <a href="@{Logins.logout()}" class="btn btn-secondary">Sair</a>
        </div>
    #{/if}
</div>

<style>
    .form-group { margin-bottom: 15px; }
    .form-control { width: 100%; padding: 8px; }
    .alert { padding: 10px; margin-bottom: 15px; border-radius: 4px; }
    .alert-danger { background-color: #f8d7da; color: #721c24; }
    .alert-success { background-color: #d4edda; color: #155724; }
</style>